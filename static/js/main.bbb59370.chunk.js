(this.webpackJsonpsaigram=this.webpackJsonpsaigram||[]).push([[0],{26:function(e,t){e.exports="data:image/png;base64,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"},27:function(e,t,a){e.exports=a(53)},32:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),o=a.n(r),l=(a(32),a(3)),i=a(6),s=a.n(i),u=a(9),f=a(25),m=a.n(f),d=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],o=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://type.fit/api/quotes");case 3:t=e.sent,a=t.data,n=Math.floor(Math.random()*a.length),r(a[n]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o().then((function(e){return e}))}),[]),c.a.createElement("div",{className:"title"},c.a.createElement("h1",null,"SaiGram"),c.a.createElement("h2",null,"Your Pictures"),c.a.createElement("p",{"data-testid":"quote-test"},a&&"".concat(a.text," - ").concat(a.author)))},g=a(7);a(55),a(50);g.initializeApp({apiKey:"AIzaSyDetBue6SDPq-SugE0xbTXm1Ncxo_EQI5o",authDomain:"ninja-saigram.firebaseapp.com",databaseURL:'"https://ninja-saigram.firebaseio.com",',projectId:"ninja-saigram",storageBucket:"ninja-saigram.appspot.com",messagingSenderId:"358542633322",appId:"1:358542633322:web:aebfac6ed501b4e2c49d13"});var p=g.storage(),h=g.firestore(),E=g.firestore.FieldValue.serverTimestamp,v=function(e){var t=Object(n.useState)(0),a=Object(l.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(null),i=Object(l.a)(o,2),f=i[0],m=i[1],d=Object(n.useState)(null),g=Object(l.a)(d,2),v=g[0],b=g[1];return Object(n.useEffect)((function(){var t=p.ref(e.name),a=h.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){m(e)}),Object(u.a)(s.a.mark((function e(){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return n=e.sent,c=E(),e.next=6,a.add({url:n,createdAt:c});case 6:b(n);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:c,url:v,error:f}},b=a(4),A=function(e){var t=e.file,a=e.setFile,r=v(t),o=r.url,l=r.progress;return Object(n.useEffect)((function(){o&&a(null)}),[o,a]),c.a.createElement(b.a.div,{className:"progress-bar",initial:{width:0},animate:{width:l+"%"}})},j=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),i=Object(l.a)(o,2),s=i[0],u=i[1],f=["image/png","image/jpeg"];return c.a.createElement("form",null,c.a.createElement("label",null,c.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];console.log(t),t&&f.includes(t.type)?(r(t),u("")):(r(null),u("Please select an image file (png or jpeg)"))}}),c.a.createElement("span",null,"+")),c.a.createElement("div",{className:"output"},s&&c.a.createElement("div",{className:"error"},s),a&&c.a.createElement("div",null,a.name),a&&c.a.createElement(A,{file:a,setFile:r})))},y=a(11),B=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=h.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(y.a)(Object(y.a)({},e.data()),{},{id:e.id}))})),r(t)}));return function(){return t()}}),[e]),{docs:c}},C=a(26),O=a.n(C),k=function(e){var t=e.setSelectedImg,a=B("images").docs,n=function(e,t){console.log(e),function(e,t,a){var n=h.collection(e),c=p.refFromURL(a);console.log("deleting"),n.doc(t).delete().then((function(){console.log("successfully removed!")})).catch((function(){console.log("error!")})),c.delete().then((function(){console.log("file storage deleted successfully")})).catch((function(){console.log("error in deleting file storage!")}))}("images",e,t)};return c.a.createElement("div",{className:"img-grid"},a&&a.map((function(e){var a=e.id,r=e.url;return c.a.createElement(b.a.div,{className:"img-wrap",key:a,layout:!0,whileHover:{opacity:1},onClick:function(e){return function(e,a){e.target.classList.contains("uploaded-img")&&t(a)}(e,r)}},c.a.createElement(b.a.img,{src:O.a,whileHover:{opacity:1},alt:"delete-icon",className:"img-delete",onClick:function(){return n(a,r)}}),c.a.createElement(b.a.img,{src:r,alt:"uploaded-pic",className:"uploaded-img",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))})))},w=function(e){var t=e.selectedImg,a=e.setSelectedImg;return c.a.createElement(b.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1}},c.a.createElement(b.a.img,{src:t,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}}))};var V=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement(d,null),c.a.createElement(j,null),c.a.createElement(k,{setSelectedImg:r}),a&&c.a.createElement(w,{selectedImg:a,setSelectedImg:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.bbb59370.chunk.js.map